#!/bin/bash

try() {
  expected="$@"
  input=`cat -`

  actual=`echo "$input" | ./main`

  actual=`echo "$actual"`
  expected=`echo "$expected"`

  if [ "$actual" = "$expected" ]; then
    # echo "$input => $actual"
    echo "OK"
  else
    echo "==="
    echo "$input => $expected expected, but got $actual"
    exit 1
  fi
}

## test case 1
cat << EOF | try 4
5
2 3 1 6 7
EOF

## test case 2
cat << EOF | try 10
5
1 1 1 1 1
EOF

## test case 2
cat << EOF | try 0
2
2 3
EOF

## test case 2
cat << EOF | try 3
5
1 3 5 7 9
EOF

## test case 2
cat << EOF | try 8
9
7 11 12 9 5 2 7 17 22
EOF

cat << EOF | try 8
266
492901 345295 546980 483031 910685 94201 54542 43935 297974 10131 18984 237565 378812 509339 706982 268217 628224 622542 550959 6914 317498 611904 407067 581764 685683 853450 477471 370297 315583 954963 790172 657572 280918 892576 495082 739616 114826 814481 554520 189027 121834 435295 16977 456992 333260 835537 61585 826046 254053 561747 528543 256018 882866 639590 736695 234525 572416 496131 526573 509356 535582 120580 519683 737550 236822 752566 749326 534688 24764 49653 866230 662677 923165 330449 280071 888734 8538 142491 173275 810888 874695 916170 773304 109080 268910 816550 207997 917176 82496 215743 344138 121743 631052 40373 282900 45531 938357 957214 208911 213695 757326 960877 620001 155194 660199 116370 631284 211370 415137 312278 746271 355465 251860 270641 728142 593172 469827 879434 307395 711804 472529 890235 312544 310709 177026 919545 325021 923784 664952 102121 631341 606558 887672 738228 188573 357395 430122 16139 976098 176433 130133 446880 68131 757415 432113 993894 339671 975669 349308 70696 203635 735789 549082 971287 405006 440713 436984 122244 891410 233474 537848 487192 186540 810044 445356 516060 425457 171011 587404 395728 601922 137726 403886 39762 239644 774993 686705 525212 582008 172069 375095 166321 635666 370162 698695 283335 733570 60405 871474 404207 133541 39713 941043 639176 44514 402706 211724 993932 38991 437367 205401 594249 244789 42471 969524 293052 228325 345074 922236 314866 97700 657894 680158 322099 507871 584350 719281 490321 589957 501867 387605 403230 787565 988428 535865 414155 138001 219089 990509 400224 474446 427627 268218 591588 676752 488089 205827 537388 448241 362643 437480 424404 282943 217677 274812 282874 621915 319632 151322 541808 919128 312535 71936 229578 374213 879559 284304 25733 210446 981116 260856 764362 470681 669098 650269 633554
EOF
